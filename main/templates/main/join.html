{% extends 'main/base.html' %}

{% block title %}Únete al Club - Club de Lectura ELIXIR{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="row mb-5">
    <div class="col-12">
        <div class="card bg-gradient" style="background: linear-gradient(135deg, var(--primary-color), var(--wine-color)); color: white;">
            <div class="card-body text-center py-5">
                <h1 class="display-5 mb-3">
                    <i class="fas fa-user-plus me-3"></i>Únete al Club
                </h1>
                <p class="lead fs-4 mb-4">Comienza tu viaje literario con nosotros</p>
                <p class="fs-5">Forma parte de una comunidad apasionada por la literatura</p>
            </div>
        </div>
    </div>
</div>

<!-- Registration Form -->
<div class="row mb-5">
    <div class="col-lg-8 mx-auto">
        <div class="card">
            <div class="card-body p-5">
                <h2 class="text-primary mb-4 text-center">
                    <i class="fas fa-edit me-2"></i>Formulario de Inscripción
                </h2>
                
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    {% endfor %}
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.name.id_for_label }}" class="form-label">{{ form.name.label }}</label>
                            {{ form.name }}
                            {% if form.name.errors %}
                                <div class="text-danger small">{{ form.name.errors.0 }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }}</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <div class="text-danger small">{{ form.email.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.phone.id_for_label }}" class="form-label">{{ form.phone.label }}</label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                            <div class="text-danger small">{{ form.phone.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.bio.id_for_label }}" class="form-label">{{ form.bio.label }}</label>
                        {{ form.bio }}
                        {% if form.bio.errors %}
                            <div class="text-danger small">{{ form.bio.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label">{{ form.favorite_genres.label }}</label>
                        <div class="row">
                            {% for choice in form.favorite_genres %}
                                <div class="col-md-4 col-6 mb-2">
                                    <div class="form-check">
                                        {{ choice.tag }}
                                        <label class="form-check-label" for="{{ choice.id_for_label }}">
                                            {{ choice.choice_label }}
                                        </label>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        {% if form.favorite_genres.errors %}
                            <div class="text-danger small">{{ form.favorite_genres.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg px-5">
                            <i class="fas fa-paper-plane me-2"></i>Enviar Solicitud
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Benefits Section -->
<div class="row mb-5">
    <div class="col-12">
        <h2 class="text-center mb-4"><i class="fas fa-gift me-2"></i>¿Qué Obtienes al Unirte?</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body p-4">
                        <i class="fas fa-book-reader fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">Lecturas Curadas</h5>
                        <p class="card-text">Acceso a una selección cuidadosa de libros de diversos géneros y autores reconocidos.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body p-4">
                        <i class="fas fa-users fa-3x text-wine mb-3"></i>
                        <h5 class="card-title">Comunidad Activa</h5>
                        <p class="card-text">Conecta con otros lectores apasionados y participa en discusiones enriquecedoras.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body p-4">
                        <i class="fas fa-calendar-alt fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">Eventos Exclusivos</h5>
                        <p class="card-text">Invitaciones a encuentros, charlas con autores y actividades literarias especiales.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Members -->
{% if recent_members %}
<div class="row mb-5">
    <div class="col-12">
        <h2 class="text-center mb-4"><i class="fas fa-handshake me-2"></i>Nuevos Miembros</h2>
        <div class="row">
            {% for member in recent_members %}
            <div class="col-md-4 col-lg-2 mb-4">
                <div class="card text-center">
                    <div class="card-body p-3">
                        {% if member.profile_image %}
                            <img src="{{ member.profile_image }}" class="rounded-circle mb-2" width="60" height="60" alt="{{ member.name }}">
                        {% else %}
                            <div class="rounded-circle bg-primary d-inline-flex align-items-center justify-content-center mb-2" style="width: 60px; height: 60px;">
                                <i class="fas fa-user text-white"></i>
                            </div>
                        {% endif %}
                        <h6 class="card-title mb-1">{{ member.name }}</h6>
                        <small class="text-muted">{{ member.join_date|date:"M Y" }}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endif %}

<!-- FAQ Section -->
<div class="row mb-5">
    <div class="col-lg-8 mx-auto">
        <h2 class="text-center mb-4"><i class="fas fa-question-circle me-2"></i>Preguntas Frecuentes</h2>
        <div class="accordion" id="faqAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq1">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                        ¿Hay algún costo por unirse al club?
                    </button>
                </h2>
                <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        No, unirse al Club de Lectura ELIXIR es completamente gratuito. Solo necesitas tu pasión por la lectura y ganas de compartir experiencias literarias.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq2">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                        ¿Con qué frecuencia nos reunimos?
                    </button>
                </h2>
                <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Organizamos encuentros mensuales para discutir el libro seleccionado, además de eventos especiales como charlas con autores y talleres literarios.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq3">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                        ¿Puedo sugerir libros para leer?
                    </button>
                </h2>
                <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        ¡Por supuesto! Valoramos las sugerencias de nuestros miembros. Puedes proponer libros a través de nuestro formulario de sugerencias.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq4">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4">
                        ¿Qué pasa si no puedo terminar un libro a tiempo?
                    </button>
                </h2>
                <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        No te preocupes, entendemos que todos tenemos ritmos diferentes. Puedes participar en las discusiones con lo que hayas leído y continuar a tu propio ritmo.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Call to Action -->
<div class="row">
    <div class="col-12">
        <div class="card bg-accent">
            <div class="card-body text-center py-5">
                <h2 class="text-dark mb-4">¿Tienes Preguntas?</h2>
                <p class="lead text-dark mb-4">
                    Si tienes dudas o quieres saber más sobre nuestro club, no dudes en contactarnos.
                </p>
                <a href="{% url 'main:contact' %}" class="btn btn-wine btn-lg px-4">
                    <i class="fas fa-envelope me-2"></i>Contáctanos
                </a>
            </div>
        </div>
    </div>
</div>

<hr class="section-divider">
{% endblock %}
